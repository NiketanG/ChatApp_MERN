(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{154:function(e,t,a){e.exports=a(256)},159:function(e,t,a){},210:function(e,t){},256:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),l=a(48),s=a(14),i=a(23);a(159),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m=a(49),u=a(18),d=a(22),g={currentUser:{}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return localStorage.setItem("token",t.payload.token),localStorage.setItem("currentUser",t.payload.username),Object(d.a)(Object(d.a)({},e),{},{currentUser:t.payload});case"LOGOUT_USER":return localStorage.removeItem("token"),localStorage.removeItem("currentUser"),g;default:return e}},f=a(137),b={messages:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return Object(d.a)(Object(d.a)({},e),{},{messages:[].concat(Object(f.a)(e.messages),[t.payload])});case"CLEAR_MESSAGES":return Object(d.a)(Object(d.a)({},e),{},{messages:[]});default:return e}},E=Object(m.b)({session:p,messages:h}),v=a(7),O=a(53),j=a(295),S=a(297),x=a(298),w=a(320),y=a(319),C=a(314),N=a(301),k=a(317),I=a(302),D=a(303),U=a(304),_=a(315),L=a(316),R=a(73),T=a.n(R),W=a(296),B=a(21),G=a.n(B),A=function(e){return{type:"LOGIN_USER",payload:e}},z=function(e){return{type:"ADD_MESSAGE",payload:e}},M=a(131),P=a.n(M).a.connect("/"),Y=function(){P.io.opts.transportOptions={polling:{extraHeaders:{"auth-token":localStorage.getItem("token")}}},P.disconnect(),P.open()};function q(e){return r.a.createElement(L.a,Object.assign({elevation:6,variant:"filled"},e))}function F(){return r.a.createElement(O.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(j.a,{color:"inherit",href:"https://bit.ly/nikketan"},"Nikketan Gulekar")," ",(new Date).getFullYear(),".")}var H=Object(W.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},progress:{marginRight:e.spacing(2),marginBottom:"-2px"}}})),X=function(){var e=Object(n.useState)(""),t=Object(v.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),l=Object(v.a)(c,2),i=l[0],m=l[1],d=Object(n.useState)(!1),g=Object(v.a)(d,2),p=g[0],f=g[1],b=Object(n.useState)(!1),h=Object(v.a)(b,2),E=h[0],L=h[1],R=Object(n.useState)(!1),W=Object(v.a)(R,2),B=W[0],z=W[1],M=Object(n.useState)(!0),P=Object(v.a)(M,2),X=P[0],V=P[1],J=H(),K=Object(u.b)();return r.a.createElement(S.a,{component:"main",maxWidth:"xs"},r.a.createElement(x.a,null),r.a.createElement("div",{className:J.paper},r.a.createElement(w.a,{className:J.avatar},r.a.createElement(T.a,null)),r.a.createElement(y.a,{open:B,autoHideDuration:6e3,anchorOrigin:{vertical:"bottom",horizontal:"center"}},r.a.createElement(q,{severity:"success"},"Signed In !")),B?r.a.createElement(s.a,{to:"/Chat"}):null,r.a.createElement(y.a,{open:!X,autoHideDuration:6e3,anchorOrigin:{vertical:"bottom",horizontal:"center"}},r.a.createElement(q,{severity:"error"},"Incorrect Username or Password")),r.a.createElement(O.a,{component:"h1",variant:"h5"},"Sign In"),r.a.createElement("form",{className:J.form,method:"post",onSubmit:function(e){e.preventDefault(),L(!0),G.a.post("/api/user/login",{username:a,password:i}).then((function(e){200===e.status&&(localStorage.setItem("token",e.data.token),localStorage.setItem("currentUser",e.data.username),K(A(e.data)),V(!0),z(!0),Y())})).catch((function(e){console.log(e),e.response&&401===e.response.status&&V(!1)})),L(!1)}},r.a.createElement(C.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username or Email",name:"username",autoComplete:"email",autoFocus:!0,value:a,onChange:function(e){return o(e.target.value)}}),r.a.createElement(C.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:i,onChange:function(e){return m(e.target.value)}}),r.a.createElement(N.a,{checked:p,control:r.a.createElement(k.a,{color:"primary"}),label:"Remember Me",onChange:function(e){return f(e.target.checked)}}),r.a.createElement(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:J.submit},E?r.a.createElement("span",null,r.a.createElement(D.a,{color:"inherit",size:"1rem",thickness:5,className:J.progress}),"Signing In"):"Sign In"),r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,xs:!0}),r.a.createElement(U.a,{item:!0},r.a.createElement(j.a,{href:"/signup",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(_.a,{mt:8},r.a.createElement(F,null)))};function V(e){return r.a.createElement(L.a,Object.assign({elevation:6,variant:"filled"},e))}function J(){return r.a.createElement(O.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(j.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var K=Object(W.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},progress:{marginRight:e.spacing(2),marginBottom:"-2px"}}})),$=function(){var e=K(),t=Object(n.useState)(""),a=Object(v.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(""),i=Object(v.a)(l,2),m=i[0],u=i[1],d=Object(n.useState)(""),g=Object(v.a)(d,2),p=g[0],f=g[1],b=Object(n.useState)(""),h=Object(v.a)(b,2),E=h[0],N=h[1],k=Object(n.useState)(!1),L=Object(v.a)(k,2),R=L[0],W=L[1],B=Object(n.useState)(!1),A=Object(v.a)(B,2),z=A[0],M=A[1],P=Object(n.useState)(""),Y=Object(v.a)(P,2),q=Y[0],F=Y[1];return r.a.createElement(S.a,{component:"main",maxWidth:"xs"},r.a.createElement(x.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(w.a,{className:e.avatar},r.a.createElement(T.a,null)),r.a.createElement(O.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement(y.a,{open:z,autoHideDuration:6e3,anchorOrigin:{vertical:"bottom",horizontal:"center"}},r.a.createElement(V,{severity:"success"},"Signed Up !")),z?r.a.createElement(s.a,{to:"/Login"}):null,r.a.createElement(y.a,{open:""!==q,autoHideDuration:6e3,anchorOrigin:{vertical:"bottom",horizontal:"center"}},r.a.createElement(V,{severity:"error"},q)),r.a.createElement("form",{className:e.form,method:"post",onSubmit:function(e){e.preventDefault(),W(!0),G.a.post("/api/user/register",{email:p,name:o,username:m,password:E}).then((function(e){200===e.status&&M(!0)})).catch((function(e){e.response&&(401===e.response.status&&(F(e.response.data),M(!1)),console.log(e.response.data))})),W(!1)}},r.a.createElement(U.a,{container:!0,spacing:2},r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(C.a,{autoComplete:"name",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Name",autoFocus:!0,value:o,onChange:function(e){return c(e.target.value)}})),r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(C.a,{autoComplete:"username",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",value:m,onChange:function(e){return u(e.target.value)}})),r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",type:"email",label:"Email Address",name:"email",autoComplete:"email",value:p,onChange:function(e){return f(e.target.value)}})),r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:E,onChange:function(e){return N(e.target.value)}}))),r.a.createElement(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},R?r.a.createElement("span",null,r.a.createElement(D.a,{color:"inherit",size:"1rem",thickness:5,className:e.progress}),"Signing Up"):"Sign Up"),r.a.createElement(U.a,{container:!0,justify:"flex-end"},r.a.createElement(U.a,{item:!0},r.a.createElement(j.a,{href:"/login",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(_.a,{mt:5},r.a.createElement(J,null)))},Q=function(){var e=Object(n.useState)(!1),t=Object(v.a)(e,2),a=t[0],o=t[1],c=Object(u.b)();return Object(n.useEffect)((function(){var e=localStorage.getItem("token");null!==e&&G.a.get("/api/user/account",{headers:{"auth-token":e}}).then((function(t){200===t.status&&(o(!0),c(A(Object(d.a)(Object(d.a)({},t.data),{},{token:e}))))})).catch((function(e){e.response&&(console.log(e.response),o(!1))}))}),[]),r.a.createElement("div",null,a?r.a.createElement(s.a,{to:"/Chat"}):null,r.a.createElement(X,null))},Z=a(16),ee=a(300),te=a(305),ae=a(306),ne=Object(W.a)((function(e){var t;return{titleBar:(t={left:"0"},Object(Z.a)(t,e.breakpoints.down("xs"),{width:"100%"}),Object(Z.a)(t,"width","360px"),t),title:{flexGrow:1}}})),re=function(e){var t=e.logout,a=ne();return r.a.createElement("div",null,r.a.createElement(te.a,{position:"fixed",className:a.titleBar},r.a.createElement(ae.a,null,r.a.createElement(O.a,{variant:"h6",className:a.title},"Chat"),r.a.createElement(I.a,{color:"inherit",onClick:t},"Log out"))))},oe=a(307),ce=a(308),le=a(309),se=a(310),ie=a(311),me=a(312),ue=Object(W.a)((function(e){return{divider:{margin:e.spacing(1)},orange:{color:e.palette.getContrastText(oe.a[500]),backgroundColor:oe.a[500]},purple:{color:e.palette.getContrastText(ce.a[500]),backgroundColor:ce.a[500]}}})),de=function(e){var t=e.user,a=e.handleListItemClick,n=ue();return r.a.createElement("div",null,r.a.createElement(le.a,{button:!0,onClick:function(){return a(t)}},r.a.createElement(se.a,null,r.a.createElement(w.a,{className:n.purple,alt:t.toUpperCase()},t.charAt(0).toUpperCase())),r.a.createElement(ie.a,{primary:t})),r.a.createElement(me.a,{className:n.divider}))},ge=Object(W.a)((function(e){var t;return{root:(t={borderRight:"0.5px solid rgba(0,0,0,0.3)"},Object(Z.a)(t,e.breakpoints.down("xs"),{width:"100%",border:"none"}),Object(Z.a)(t,"width","360px"),Object(Z.a)(t,"height","100vh"),Object(Z.a)(t,"overflowY","auto"),t),searchContainer:{margin:e.spacing(1)},usersContainer:{padding:e.spacing(1)},toolbar:e.mixins.toolbar}})),pe=function(e){var t=e.recents,a=e.selectChat,o=ge(),c=localStorage.getItem("token"),l=Object(u.b)(),s=Object(n.useState)(""),i=Object(v.a)(s,2),m=i[0],d=i[1],g=Object(n.useState)([]),p=Object(v.a)(g,2),f=p[0],b=p[1],h=Object(n.useState)([]),E=Object(v.a)(h,2),O=E[0],j=E[1],S=Object(n.useState)(!0),x=Object(v.a)(S,2),w=(x[0],x[1]);Object(n.useEffect)((function(){b(t)}),[t]);var y=function(e){a(e),d(""),j([])};return r.a.createElement("div",{className:o.root},r.a.createElement(re,{className:o.appbar,logout:function(){l({type:"LOGOUT_USER"}),l({type:"CLEAR_MESSAGES"}),P.disconnect(),w(!1)}}),r.a.createElement("div",{className:o.toolbar}),r.a.createElement("div",{className:o.searchContainer},r.a.createElement(C.a,{fullWidth:!0,id:"search-box",label:"Search",variant:"outlined",value:m,onChange:function(e){return t=e.target.value,d(t),void(0===t.length?j([]):G.a.post("/api/user/search",{query:t},{headers:{"auth-token":c}}).then((function(e){j(e.data.map((function(e){return e.username})))})).catch((function(e){e.response&&console.log(e.response)})));var t}})),r.a.createElement("div",{className:o.usersContainer},r.a.createElement(ee.a,{component:"nav","aria-label":"main mailbox folders"},O.map((function(e){return r.a.createElement(de,{user:e,handleListItemClick:y,key:e})})),O.length>0?null:f.map((function(e){return r.a.createElement(de,{user:e.user,handleListItemClick:y,key:e.user})})))))},fe=a(135),be=a.n(fe),he=a(313),Ee=a(321),ve=a(136),Oe=a.n(ve),je=a(294),Se=a(322),xe=Object(W.a)((function(e){var t;return{titleBar:(t={},Object(Z.a)(t,e.breakpoints.down("xs"),{width:"100vw"}),Object(Z.a)(t,"width","calc(100vw - 360px)"),t),orange:{color:e.palette.getContrastText(oe.a[500]),backgroundColor:oe.a[500]},purple:{color:e.palette.getContrastText(ce.a[500]),backgroundColor:ce.a[500]}}})),we=function(e){var t=e.name,a=(e.username,e.closeChat),n=xe();return r.a.createElement("div",{className:n.root},r.a.createElement(te.a,{position:"fixed",className:n.titleBar},r.a.createElement(ae.a,null,r.a.createElement(je.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"menu",onClick:a},r.a.createElement(Se.a,null)),r.a.createElement(je.a,{edge:"start",className:n.menuButton},r.a.createElement(w.a,{className:n.orange,alt:t},t.charAt(0))),r.a.createElement(O.a,{variant:"h6",className:n.title},t))))},ye=Object(W.a)((function(e){var t;return{root:{display:"flex",flexDirection:"column",height:"100vh"},titleBar:{alignSelf:"flex-start"},sendMessageContainer:(t={alignSelf:"flex-end",display:"flex",backgroundColor:"snow",padding:e.spacing(2,2,6,2),boxSizing:"border-box"},Object(Z.a)(t,e.breakpoints.down("xs"),{width:"100vw"}),Object(Z.a)(t,"width","100%"),Object(Z.a)(t,"height","40px"),t),sendField:{marginRight:e.spacing(1),flexGrow:1},sendButton:{borderRadius:"20px",height:"40px",width:"40px"},toolbar:e.mixins.toolbar,messageContainer:{width:"100%",padding:e.spacing(2),overflowY:"auto",flexGrow:1},message:{width:"100%",display:"block"},sender:{margin:e.spacing(.5,0)},time:{margin:e.spacing(.5,0)},messageText:{backgroundColor:"rgba(0,0,0,0.1)",padding:e.spacing(1,2),borderRadius:"20px"},messageBox:{display:"flex",flexDirection:"column",alignItems:"flex-start",maxWidth:"100%",overflowX:"auto"},ownMessageBox:{display:"flex",flexDirection:"column",alignItems:"flex-end",maxWidth:"100%",overflowX:"auto"},imageContainer:{width:"250px",margin:e.spacing(2)},image:{borderRadius:"10px",maxWidth:"250px"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},viewImage:{maxWidth:"90vw",maxHeight:"90vh"}}})),Ce=function(e){var t=e.sender,a=e.message,n=e.time,o=Object(u.c)((function(e){return e.session.currentUser.username})),c=ye();return r.a.createElement("div",{className:c.message},r.a.createElement("div",{className:t===o?c.ownMessageBox:c.messageBox},r.a.createElement(O.a,{color:"textSecondary",variant:"body2",className:c.sender},t===o?"You":t),r.a.createElement(O.a,{className:c.messageText},a),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",className:c.time},new Date(n).toLocaleString())))},Ne=function(e){var t=e.sender,a=e.imageURL,o=e.time,c=Object(u.c)((function(e){return e.session.currentUser.username})),l=Object(n.useState)(!1),s=Object(v.a)(l,2),i=s[0],m=s[1],d=ye();return r.a.createElement("div",{className:d.message},r.a.createElement("div",{className:t===c?d.ownMessageBox:d.messageBox},r.a.createElement(O.a,{color:"textSecondary",variant:"body2",className:d.sender},t===c?"You":t),r.a.createElement("div",{className:d.imageContainer},r.a.createElement("img",{className:d.image,src:a,alt:"Image sent by ".concat(t),onClick:function(){return m(!0)}})),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",className:d.time},new Date(o).toLocaleString()),i?r.a.createElement(ke,{imageURL:a,handleClose:function(e){m(e)}}):null))},ke=function(e){var t=e.imageURL,a=e.handleClose,n=ye();return r.a.createElement("div",null,r.a.createElement(Ee.a,{className:n.backdrop,open:!0,onClick:function(){a(!1)}},r.a.createElement("img",{src:t,className:n.viewImage})))},Ie=function(e){var t=e.username,a=e.closeChat,o=ye(),c=(localStorage.getItem("token"),Object(u.c)((function(e){return e.session.currentUser.username}))),l=Object(u.c)((function(e){return e.messages.messages})),s=Object(u.b)(),i=Object(n.useState)(t),m=Object(v.a)(i,2),d=m[0],g=m[1],p=Object(n.useState)(!1),f=Object(v.a)(p,2),b=(f[0],f[1]),h=Object(n.useState)(""),E=Object(v.a)(h,2),O=E[0],j=E[1],S=Object(n.useState)(!1),x=Object(v.a)(S,2),w=(x[0],x[1]),y=Object(n.useState)([]),N=Object(v.a)(y,2),k=N[0],D=N[1],U=Object(n.useRef)(null),_=Object(n.useState)(null),L=Object(v.a)(_,2);L[0],L[1];Object(n.useEffect)((function(){if(0!==l.length){var e=l.sort((function(e,t){return new Date(e.time)-new Date(t.time)}));R(e.filter((function(e){return e.from===t&&e.to===c||e.to===t&&e.from===c})))}G.a.post("/api/user/get",{username:t}).then((function(e){b(e.data.online),g(e.data.name)})),P.on("TYPING",(function(e){w(!0)})),P.on("STOPPED_TYPING",(function(e){w(!1)}))}),[t,l]);var R=function(e){D((function(t){return e}))},T=function(){if(O.length>0){var e={to:t,from:c,message:O,time:(new Date).toISOString()};s(z(e)),P.emit("SEND_MESSAGE",e),j("")}};return r.a.createElement("div",{className:o.root},r.a.createElement(we,{name:d,username:t,closeChat:a,className:o.titleBar}),r.a.createElement("div",{className:o.toolbar}),r.a.createElement(be.a,{className:o.messageContainer},k.map((function(e){return"image"===e.type?r.a.createElement(Ne,{sender:e.from,imageURL:e.message,time:e.time,key:e.message}):r.a.createElement(Ce,{sender:e.from,time:e.time,message:e.message,key:e.time})}))),r.a.createElement("div",{className:o.sendMessageContainer},r.a.createElement("div",{className:o.sendField},r.a.createElement(C.a,{fullWidth:!0,id:"message-box",label:"Send a Message",variant:"outlined",size:"small",value:O,onChange:function(e){return a=e.target.value,j(a),void P.emit("TYPING",t);var a},onKeyPress:function(e){13===e.which&&T()}})),r.a.createElement(I.a,{size:"small",onClick:function(){U.current.click()}},r.a.createElement("input",{type:"file",id:"file",accept:"image/*",ref:U,style:{display:"none"},onChange:function(e){return function(e){e.stopPropagation(),e.preventDefault();var a=e.target.files[0],n=new FormData;n.append("file",a),n.append("upload_preset","chat_app"),G.a.post("https://api.cloudinary.com/v1_1/nikketan/image/upload",n).then((function(e){var a={to:t,from:c,type:"image",message:e.data.secure_url,time:(new Date).toISOString()};s(z(a)),P.emit("SEND_MESSAGE",a),j("")})).catch((function(e){console.log(e)}))}(e)}}),r.a.createElement(Oe.a,{fontSize:"large"})),r.a.createElement(I.a,{variant:"contained",color:"primary",size:"small",className:o.sendButton,onClick:T},r.a.createElement(he.a,{fontSize:"small"},"send"))))},De=a(318),Ue=Object(W.a)((function(e){var t;return{root:{display:"flex"},content:(t={flexGrow:1,boxSizing:"border-box"},Object(Z.a)(t,e.breakpoints.down("xs"),{maxWidth:"100vw"}),Object(Z.a)(t,"maxWidth","calc(100vw - 360px)"),t),NoChatSelected:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"}}})),_e=function(){var e=Ue();return r.a.createElement("div",{className:e.NoChatSelected},r.a.createElement(O.a,{className:e.NoChatSelectedText,variant:"h5"},"Select a User from the List, or Search using Username to Chat."))},Le=function(){var e=Object(n.useState)(""),t=Object(v.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)([]),l=Object(v.a)(c,2),i=l[0],m=l[1],g=Object(n.useState)(!0),p=Object(v.a)(g,2),f=p[0],b=p[1],h=localStorage.getItem("currentUser"),E=localStorage.getItem("token"),O=Object(u.b)(),j=Object(u.c)((function(e){return e.messages.messages})),S=Ue(),w=function(e){o(e)};return Object(n.useEffect)((function(){Y(),null!==E?(G.a.get("/api/user/account",{headers:{"auth-token":E}}).then((function(e){200===e.status&&(localStorage.setItem("currentUser",e.data.username),b(!0),O(A(Object(d.a)(Object(d.a)({},e.data),{},{token:E}))))})).catch((function(e){console.log(e),e.response&&(console.log(e.response),b(!1))})),G.a.get("/api/chats/get",{headers:{"auth-token":E}}).then((function(e){200===e.status&&e.data.map((function(e){j.some((function(t){return t.to===e.to&&t.from===e.from&&t.message===e.message&&t.time===e.time}))?console.log("Message already in msgstore"):O(z(e))}))})).catch((function(e){console.log(e),e.response&&console.log(e.response)}))):b(!1),P.on("RECEIVE_MESSAGE",(function(e){O(z(e))}))}),[E]),Object(n.useEffect)((function(){if(null!==h){var e=[];j.sort((function(e,t){return new Date(e.time)-new Date(t.time)})).reverse().forEach((function(t){var a=t.to===h?t.from:t.to;e.find((function(e){return e.user===a}))||e.push({user:a})})),m(e)}}),[j]),r.a.createElement("div",{className:S.root},f?null:r.a.createElement(s.a,{to:"/Home"}),r.a.createElement(x.a,null),""!==a?r.a.createElement(De.a,{xsDown:!0},r.a.createElement(pe,{recents:i,selectChat:w,className:S.chatList})):r.a.createElement(pe,{recents:i,selectChat:w,className:S.chatList}),r.a.createElement("main",{className:S.content},""===a?r.a.createElement(De.a,{xsDown:!0},r.a.createElement(_e,null)):r.a.createElement(Ie,{username:a,closeChat:function(){o("")}})))},Re=Object(i.a)(),Te=Object(m.c)(E,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),We=function(){return r.a.createElement(u.a,{store:Te},r.a.createElement(l.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/signup",component:$}),r.a.createElement(s.b,{path:"/login",component:X}),r.a.createElement(s.b,{path:"/Chat",component:Le}),r.a.createElement(s.b,{path:"/",component:Q}))))};c.a.render(r.a.createElement(s.c,{history:Re},r.a.createElement(We,{history:Re})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[154,1,2]]]);
//# sourceMappingURL=main.085bd6eb.chunk.js.map